/* ================================================
   ğŸŒ™ Anki Style Dark Theme for Obsidian
   ì•ˆë“œë¡œì´ë“œ/PC í˜¸í™˜ | ê°€ë…ì„± ìµœì í™” ë‹¤í¬ëª¨ë“œ
   ================================================ */

/* ================================================
   1. ë‹¤í¬ëª¨ë“œ ìƒ‰ìƒ ë³€ìˆ˜ (Anki ìŠ¤íƒ€ì¼)
   ================================================ */
.theme-dark {
    /* ë°°ê²½ìƒ‰ */
    --background-primary: #1e1e1e;
    --background-primary-alt: #252525;
    --background-secondary: #2a2a2a;
    --background-secondary-alt: #303030;
    --background-modifier-border: #3a3a3a;
    --background-modifier-hover: #333333;
    --background-modifier-active: #3a3a3a;
    
    /* í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
    --text-normal: #e0e0e0;
    --text-muted: #999999;
    --text-faint: #666666;
    --text-on-accent: #ffffff;
    
    /* ì•¡ì„¼íŠ¸ ìƒ‰ìƒ */
    --interactive-accent: #4a9eff;
    --interactive-accent-hover: #5fadff;
    --interactive-accent-rgb: 74, 158, 255;
    
    /* ìƒíƒœ ìƒ‰ìƒ */
    --color-green: #10b981;
    --color-red: #ef4444;
    --color-orange: #f59e0b;
    --color-yellow: #fbbf24;
    
    /* ê·¸ë¦¼ì */
    --shadow-s: 0 1px 3px rgba(0, 0, 0, 0.4);
    --shadow-m: 0 2px 8px rgba(0, 0, 0, 0.5);
    --shadow-l: 0 4px 16px rgba(0, 0, 0, 0.6);
}

/* ================================================
   2. ì „ì²´ ë ˆì´ì•„ì›ƒ ìµœì í™”
   ================================================ */

/* ê¸°ë³¸ í°íŠ¸ ë° ê°€ë…ì„± */
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans KR", sans-serif;
    line-height: 1.6;
    letter-spacing: -0.01em;
}

/* ëª¨ë°”ì¼ ê¸°ë³¸ í°íŠ¸ í¬ê¸° */
.is-mobile {
    font-size: 16px !important;
}

/* ì›Œí¬ìŠ¤í˜ì´ìŠ¤ */
.workspace {
    background-color: var(--background-primary);
}

.workspace-leaf-content {
    background-color: var(--background-primary);
}

/* ================================================
   3. ëª¨ë‹¬ ìŠ¤íƒ€ì¼ (Anki ì¹´ë“œ ëŠë‚Œ)
   ================================================ */

.modal {
    background-color: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 12px;
    box-shadow: var(--shadow-l);
}

.modal-container {
    background-color: var(--background-primary);
}

.modal-title {
    font-size: 1.5em;
    font-weight: 600;
    color: var(--text-normal);
    padding: 20px 24px 16px;
}

.modal-content {
    padding: 0 24px 24px;
    color: var(--text-normal);
}

/* ================================================
   4. ë²„íŠ¼ ìŠ¤íƒ€ì¼ (Anki ìŠ¤íƒ€ì¼)
   ================================================ */

button,
.button,
.clickable-icon {
    background-color: var(--background-secondary);
    color: var(--text-normal);
    border: 1px solid var(--background-modifier-border);
    border-radius: 6px;
    padding: 8px 16px;
    min-height: 36px;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.15s ease;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
}

button:hover,
.button:hover {
    background-color: var(--background-modifier-hover);
    border-color: var(--interactive-accent);
}

button:active,
.button:active {
    transform: scale(0.98);
}

/* ì£¼ìš” ì•¡ì…˜ ë²„íŠ¼ */
.mod-cta,
button.mod-cta {
    background-color: var(--interactive-accent);
    color: var(--text-on-accent);
    border-color: var(--interactive-accent);
}

.mod-cta:hover {
    background-color: var(--interactive-accent-hover);
}

/* ================================================
   5. ì…ë ¥ í•„ë“œ (ë‹¤í¬ëª¨ë“œ ìµœì í™”)
   ================================================ */

input[type="text"],
input[type="search"],
input[type="email"],
input[type="password"],
input[type="number"],
textarea,
select {
    background-color: var(--background-secondary);
    color: var(--text-normal);
    border: 1px solid var(--background-modifier-border);
    border-radius: 6px;
    padding: 10px 12px;
    font-size: 14px;
    min-height: 40px;
    transition: all 0.2s ease;
}

input:focus,
textarea:focus,
select:focus {
    outline: none;
    border-color: var(--interactive-accent);
    box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.2);
}

/* iOS ìë™ ì¤Œ ë°©ì§€ */
@media (max-width: 768px) {
    input[type="text"],
    input[type="search"],
    textarea,
    select {
        font-size: 16px !important;
    }
}

/* ================================================
   6. ë¦¬ìŠ¤íŠ¸ ë° ì•„ì´í…œ ìŠ¤íƒ€ì¼
   ================================================ */

.nav-file,
.nav-folder {
    transition: none !important;
}

.nav-file-title,
.nav-folder-title {
    color: var(--text-normal);
    padding: 4px 8px;
    border-radius: 4px;
    transition: background-color 0.15s ease;
}

.nav-file-title:hover,
.nav-folder-title:hover {
    background-color: var(--background-modifier-hover);
}

.nav-file-title.is-active {
    background-color: var(--background-modifier-active);
    color: var(--text-normal);
}

/* ================================================
   7. í€´ì¦ˆ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ (Anki ì¹´ë“œ ëŠë‚Œ)
   ================================================ */

/* í€´ì¦ˆ ì»¨í…Œì´ë„ˆ */
.quiz-modal,
.quiz-container {
    background-color: var(--background-primary);
    max-width: 800px;
    margin: 0 auto;
}

/* í•œì í‘œì‹œ ì˜ì—­ */
.hanzi-display,
.question-text {
    text-align: center;
    padding: 40px 20px;
    background-color: var(--background-primary);
    border-radius: 8px;
}

.hanzi-display {
    font-size: 64px;
    font-weight: 700;
    color: var(--text-normal);
    line-height: 1.2;
    margin-bottom: 20px;
}

/* ì„ íƒì§€ ë²„íŠ¼ */
.option-button,
.quiz-option-button {
    background-color: var(--background-secondary) !important;
    border: 1px solid var(--background-modifier-border) !important;
    color: var(--text-normal) !important;
    padding: 16px 20px !important;
    margin: 8px 0 !important;
    border-radius: 8px !important;
    font-size: 16px !important;
    text-align: left !important;
    cursor: pointer !important;
    transition: all 0.15s ease !important;
    min-height: 52px !important;
}

.option-button:hover,
.quiz-option-button:hover {
    background-color: var(--background-modifier-hover) !important;
    border-color: var(--interactive-accent) !important;
    transform: translateX(4px) !important;
}

.option-button:active {
    transform: translateX(2px) scale(0.99) !important;
}

/* ì •ë‹µ/ì˜¤ë‹µ í‘œì‹œ */
.option-button.correct {
    background-color: rgba(16, 185, 129, 0.15) !important;
    border-color: var(--color-green) !important;
}

.option-button.incorrect {
    background-color: rgba(239, 68, 68, 0.15) !important;
    border-color: var(--color-red) !important;
}

/* ================================================
   8. ëŒ€ì‹œë³´ë“œ ìŠ¤íƒ€ì¼
   ================================================ */

.dashboard-container {
    padding: 20px;
    background-color: var(--background-primary);
}

.dashboard-card {
    background-color: var(--background-secondary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 16px;
    box-shadow: var(--shadow-s);
    transition: box-shadow 0.2s ease;
}

.dashboard-card:hover {
    box-shadow: var(--shadow-m);
}

/* ================================================
   9. ëª¨ë°”ì¼ ìµœì í™” (ì•ˆë“œë¡œì´ë“œ í˜¸í™˜)
   ================================================ */

@media (max-width: 768px) {
    /* í„°ì¹˜ íƒ€ê²Ÿ ìµœì†Œ í¬ê¸° */
    button,
    .clickable,
    a {
        min-height: 44px !important;
        min-width: 44px !important;
        touch-action: manipulation;
    }
    
    /* ëª¨ë‹¬ í¬ê¸° ì¡°ì • */
    .modal {
        max-width: 95vw !important;
        max-height: 90vh !important;
        margin: 20px auto !important;
    }
    
    /* í°íŠ¸ í¬ê¸° */
    body {
        font-size: 16px !important;
    }
    
    h1 { font-size: 1.8em !important; }
    h2 { font-size: 1.5em !important; }
    h3 { font-size: 1.3em !important; }
    
    /* íŒ¨ë”© ì¡°ì • */
    .modal-content {
        padding: 16px !important;
    }
    
    /* ë²„íŠ¼ ê°„ê²© */
    button {
        margin: 8px 0 !important;
    }
    
    /* ì„ íƒì§€ ê°„ê²© */
    .option-button,
    .quiz-option-button {
        margin: 10px 0 !important;
        padding: 18px 16px !important;
    }
}

/* ================================================
   10. ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ (ë‹¤í¬ëª¨ë“œ)
   ================================================ */

::-webkit-scrollbar {
    width: 10px;
    height: 10px;
}

::-webkit-scrollbar-track {
    background: var(--background-secondary);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb {
    background: var(--background-modifier-border);
    border-radius: 5px;
    transition: background 0.2s ease;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--text-faint);
}

/* ================================================
   11. íƒ€ì´ë¨¸ ë° í”„ë¡œê·¸ë ˆìŠ¤ ë°”
   ================================================ */

.timer-container {
    background-color: var(--background-secondary);
    border-radius: 8px;
    padding: 12px;
    margin: 16px 0;
}

.progress-bar {
    height: 8px;
    background-color: var(--background-secondary);
    border-radius: 4px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--interactive-accent), var(--interactive-accent-hover));
    transition: width 0.3s ease;
    border-radius: 4px;
}

/* ================================================
   12. í†µê³„ ë° ì¹´ë“œ ìŠ¤íƒ€ì¼
   ================================================ */

.stat-card {
    background: var(--background-secondary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
    padding: 20px;
    text-align: center;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.stat-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-m);
}

.stat-number {
    font-size: 2em;
    font-weight: 700;
    color: var(--interactive-accent);
    line-height: 1;
    margin-bottom: 8px;
}

.stat-label {
    color: var(--text-muted);
    font-size: 0.9em;
}

/* ================================================
   13. ì• ë‹ˆë©”ì´ì…˜ ìµœì í™” (ì„±ëŠ¥ ê°œì„ )
   ================================================ */

/* ë¶ˆí•„ìš”í•œ ì• ë‹ˆë©”ì´ì…˜ ì œê±° */
.nav-folder,
.nav-file,
.tree-item {
    transition: none !important;
    animation: none !important;
}

/* í•„ìˆ˜ ì• ë‹ˆë©”ì´ì…˜ë§Œ ìœ ì§€ */
.modal {
    animation: fadeIn 0.2s ease;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* ================================================
   14. ì ‘ê·¼ì„± ê°œì„ 
   ================================================ */

/* í¬ì»¤ìŠ¤ í‘œì‹œ */
button:focus-visible,
input:focus-visible,
a:focus-visible {
    outline: 2px solid var(--interactive-accent);
    outline-offset: 2px;
}

/* ê³ ëŒ€ë¹„ ëª¨ë“œ ì§€ì› */
@media (prefers-contrast: high) {
    .theme-dark {
        --text-normal: #ffffff;
        --background-primary: #000000;
        --background-modifier-border: #555555;
    }
}

/* ================================================
   15. ì¸ì‡„ ìŠ¤íƒ€ì¼ (ë¶ˆí•„ìš”í•œ ìš”ì†Œ ì œê±°)
   ================================================ */

@media print {
    .nav-header,
    .workspace-ribbon,
    .status-bar,
    button {
        display: none !important;
    }
    
    body {
        background: white;
        color: black;
    }
}

/* ================================================
   16. ì¶”ê°€ í€´ì¦ˆ í”ŒëŸ¬ê·¸ì¸ ìµœì í™”
   ================================================ */

/* ë¶ë§ˆí¬ ì»¨í…Œì´ë„ˆ */
.bookmark-container {
    background-color: var(--background-secondary) !important;
    border: 1px solid var(--background-modifier-border) !important;
    border-radius: 6px !important;
    padding: 12px 16px !important;
    margin: 12px 0 !important;
}

/* íŒíŠ¸ ì˜ì—­ */
.hint-container {
    background-color: rgba(var(--interactive-accent-rgb), 0.1) !important;
    border: 1px solid var(--interactive-accent) !important;
    border-radius: 8px !important;
    padding: 16px !important;
    margin: 16px 0 !important;
}

/* ì´ë¯¸ì§€ ë·°ì–´ */
.image-zoom-overlay {
    background-color: rgba(0, 0, 0, 0.95) !important;
}

/* ë…¸íŠ¸ ì„¹ì…˜ */
.quiz-note-section {
    background-color: var(--background-secondary) !important;
    border: 1px solid var(--background-modifier-border) !important;
    border-radius: 8px !important;
    padding: 16px !important;
    margin-top: 16px !important;
}
