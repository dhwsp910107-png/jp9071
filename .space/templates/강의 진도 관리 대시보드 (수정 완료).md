# ğŸ¯ ê°•ì˜ ì§„ë„ ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ (ìˆ˜ì • ì™„ë£Œ)

> **DataviewJS ê¸°ë°˜ ì™„ì „ ì‘ë™ ì‹œìŠ¤í…œ**

---

## ğŸ“Š ì „ì²´ ê°•ì˜ ì§„ë„ í˜„í™©

```dataviewjs
// ì‹œìŠ¤í…œ ì´ˆê¸°í™”
if (!window.courseHub) {
    window.courseHub = {
        // ë°ì´í„° ì ‘ê·¼
        getData(key, fallback) {
            try {
                const data = localStorage.getItem(key);
                return data ? JSON.parse(data) : fallback;
            } catch { return fallback; }
        },
        
        setData(key, value) {
            try {
                localStorage.setItem(key, JSON.stringify(value));
                return true;
            } catch { return false; }
        },
        
        // ê¸°ë³¸ ë°ì´í„°
        getDefaultData() {
            return [
                {
                    id: 1,
                    title: "JavaScript ê¸°ì´ˆ",
                    category: "ì›¹ê°œë°œ",
                    lessons: [
                        {id: 1, title: "1ê°•: ë³€ìˆ˜ì™€ ìë£Œí˜•", done: false, checks: ["ê°•ì˜ ì‹œì²­", "ì‹¤ìŠµ ì™„ë£Œ", "í€´ì¦ˆ í’€ê¸°", "ë³µìŠµí•˜ê¸°"]},
                        {id: 2, title: "2ê°•: í•¨ìˆ˜ì™€ ìŠ¤ì½”í”„", done: false, checks: ["ê°•ì˜ ì‹œì²­", "ì‹¤ìŠµ ì™„ë£Œ", "í€´ì¦ˆ í’€ê¸°", "ë³µìŠµí•˜ê¸°"]},
                        {id: 3, title: "3ê°•: ê°ì²´ì™€ ë°°ì—´", done: false, checks: ["ê°•ì˜ ì‹œì²­", "ì‹¤ìŠµ ì™„ë£Œ", "í€´ì¦ˆ í’€ê¸°", "ë³µìŠµí•˜ê¸°"]}
                    ]
                },
                {
                    id: 2,
                    title: "Python ê¸°ì´ˆ",
                    category: "í”„ë¡œê·¸ë˜ë°",
                    lessons: [
                        {id: 1, title: "1ê°•: íŒŒì´ì¬ ì‹œì‘í•˜ê¸°", done: false, checks: ["ì„¤ì¹˜ ì™„ë£Œ", "ì‹¤ìŠµ ì™„ë£Œ", "í€´ì¦ˆ í’€ê¸°", "ë³µìŠµí•˜ê¸°"]},
                        {id: 2, title: "2ê°•: ë°ì´í„° íƒ€ì…", done: false, checks: ["ê°•ì˜ ì‹œì²­", "ì‹¤ìŠµ ì™„ë£Œ", "í€´ì¦ˆ í’€ê¸°", "ë³µìŠµí•˜ê¸°"]}
                    ]
                }
            ];
        },
        
        // ë°ì´í„° ë¡œë“œ
        loadCourses() {
            let courses = this.getData('courseHub', null);
            if (!courses) {
                courses = this.getDefaultData();
                this.setData('courseHub', courses);
            }
            return courses;
        },
        
        // ì§„ë„ ê³„ì‚°
        getProgress() {
            const courses = this.loadCourses();
            let total = 0, completed = 0;
            
            courses.forEach(course => {
                total += course.lessons.length;
                completed += course.lessons.filter(l => l.done).length;
            });
            
            return {
                total,
                completed,
                percent: total > 0 ? Math.round((completed / total) * 100) : 0,
                courses: courses.length
            };
        }
    };
}

// ì´ˆê¸° ë¡œë“œ
const courses = window.courseHub.loadCourses();
const progress = window.courseHub.getProgress();

// í™”ë©´ ì¶œë ¥
const headerHTML = `
<div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 2rem; border-radius: 15px; margin: 1rem 0; text-align: center;">
    <h2 style="margin: 0 0 1rem 0;">ğŸ“Š ì „ì²´ í•™ìŠµ ì§„ë„</h2>
    <div style="font-size: 3rem; font-weight: bold; margin: 1rem 0;">${progress.percent}%</div>
    <div style="background: rgba(255,255,255,0.2); height: 12px; border-radius: 6px; overflow: hidden; margin: 1rem 0;">
        <div style="background: rgba(255,255,255,0.8); height: 100%; width: ${progress.percent}%; transition: width 0.8s ease;"></div>
    </div>
    <div style="opacity: 0.9;">ì´ ${progress.total}ê°• ì¤‘ ${progress.completed}ê°• ì™„ë£Œ</div>
    <div style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">${progress.courses}ê°œ ê°•ì˜ ì‹œë¦¬ì¦ˆ</div>
</div>
`;

dv.container.innerHTML = headerHTML;
```

## ğŸ“š ê°•ì˜ë³„ ìƒì„¸ ì§„ë„

```dataviewjs
// ëª¨ë‹¬ ì‹œìŠ¤í…œ ì •ì˜
if (!window.modalSystem) {
    window.modalSystem = {
        currentCourse: null,
        currentLesson: null,
        
        openModal(courseIdx, lessonIdx) {
            const courses = window.courseHub.loadCourses();
            const course = courses[courseIdx];
            const lesson = course.lessons[lessonIdx];
            
            this.currentCourse = courseIdx;
            this.currentLesson = lessonIdx;
            
            // ëª¨ë‹¬ ìƒì„±
            const modal = this.createModal();
            document.getElementById('modalTitle').textContent = lesson.title;
            
            // ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒì„±
            let checkHTML = '<h4>ğŸ“‹ í•™ìŠµ ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>';
            lesson.checks.forEach((check, idx) => {
                const key = `check_${courseIdx}_${lessonIdx}_${idx}`;
                const checked = localStorage.getItem(key) === 'true';
                
                checkHTML += `
                <label style="display: block; margin: 0.8rem 0; padding: 0.8rem; background: ${checked ? '#d4edda' : '#f8f9fa'}; border-radius: 6px; cursor: pointer;">
                    <input type="checkbox" ${checked ? 'checked' : ''} style="margin-right: 0.8rem;" onchange="window.modalSystem.updateCheck(${courseIdx}, ${lessonIdx}, ${idx}, this.checked)">
                    <span style="${checked ? 'text-decoration: line-through; color: #666;' : ''}">${check}</span>
                    ${checked ? ' âœ…' : ''}
                </label>`;
            });
            
            // ì§„í–‰ë¥  í‘œì‹œ
            const completed = lesson.checks.filter((_, idx) => {
                return localStorage.getItem(`check_${courseIdx}_${lessonIdx}_${idx}`) === 'true';
            }).length;
            const percent = Math.round((completed / lesson.checks.length) * 100);
            
            checkHTML += `
            <div style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                <div style="margin-bottom: 0.5rem;"><strong>ì§„í–‰ë¥ :</strong> <span id="progress">${completed}/${lesson.checks.length} (${percent}%)</span></div>
                <div style="background: #e9ecef; height: 10px; border-radius: 5px; overflow: hidden;">
                    <div id="progressBar" style="background: #28a745; height: 100%; width: ${percent}%; transition: width 0.5s;"></div>
                </div>
                <div style="text-align: center; margin-top: 1rem;">
                    <button onclick="window.modalSystem.completeLesson()" 
                            style="padding: 0.6rem 1.2rem; border: none; border-radius: 6px; background: ${percent === 100 && !lesson.done ? '#28a745' : '#6c757d'}; color: white; cursor: pointer;" 
                            ${percent !== 100 ? 'disabled' : ''}>
                        ${lesson.done ? 'âœ… ì™„ë£Œë¨' : (percent === 100 ? 'ğŸ¯ ê°•ì˜ ì™„ë£Œ ì²˜ë¦¬' : 'â³ ëª¨ë“  í•­ëª© ì™„ë£Œ í•„ìš”')}
                    </button>
                </div>
            </div>`;
            
            document.getElementById('modalContent').innerHTML = checkHTML;
            modal.style.display = 'block';
        },
        
        createModal() {
            let modal = document.getElementById('lessonModal');
            if (!modal) {
                modal = document.createElement('div');
                modal.id = 'lessonModal';
                modal.style.cssText = 'display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1000;';
                modal.innerHTML = `
                    <div style="background: white; margin: 5% auto; padding: 2rem; border-radius: 12px; max-width: 600px; max-height: 80%; overflow-y: auto;" onclick="event.stopPropagation()">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                            <h3 id="modalTitle" style="margin: 0;"></h3>
                            <button onclick="window.modalSystem.closeModal()" style="background: none; border: none; font-size: 1.5rem; cursor: pointer;">âœ•</button>
                        </div>
                        <div id="modalContent"></div>
                        <div style="text-align: center; margin-top: 1rem;">
                            <button onclick="window.modalSystem.closeModal()" style="padding: 0.8rem 1.5rem; border: none; border-radius: 6px; background: #28a745; color: white; font-weight: bold; cursor: pointer;">ğŸ’¾ ì €ì¥í•˜ê³  ë‹«ê¸°</button>
                        </div>
                    </div>
                `;
                modal.addEventListener('click', () => this.closeModal());
                document.body.appendChild(modal);
            }
            return modal;
        },
        
        closeModal() {
            document.getElementById('lessonModal').style.display = 'none';
            setTimeout(() => location.reload(), 100);
        },
        
        updateCheck(courseIdx, lessonIdx, checkIdx, checked) {
            const key = `check_${courseIdx}_${lessonIdx}_${checkIdx}`;
            localStorage.setItem(key, checked.toString());
            
            // ì§„í–‰ë¥  ì—…ë°ì´íŠ¸
            const courses = window.courseHub.loadCourses();
            const lesson = courses[courseIdx].lessons[lessonIdx];
            const completed = lesson.checks.filter((_, idx) => {
                return localStorage.getItem(`check_${courseIdx}_${lessonIdx}_${idx}`) === 'true';
            }).length;
            const percent = Math.round((completed / lesson.checks.length) * 100);
            
            document.getElementById('progress').textContent = `${completed}/${lesson.checks.length} (${percent}%)`;
            document.getElementById('progressBar').style.width = percent + '%';
        },
        
        completeLesson() {
            const courses = window.courseHub.loadCourses();
            const lesson = courses[this.currentCourse].lessons[this.currentLesson];
            
            const allChecked = lesson.checks.every((_, idx) => {
                return localStorage.getItem(`check_${this.currentCourse}_${this.currentLesson}_${idx}`) === 'true';
            });
            
            if (allChecked) {
                lesson.done = true;
                lesson.completedAt = new Date().toISOString();
                window.courseHub.setData('courseHub', courses);
                alert('ğŸ‰ ê°•ì˜ ì™„ë£Œ!\n\nëª¨ë“  ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì™„ì„±í–ˆìŠµë‹ˆë‹¤!');
                this.closeModal();
            } else {
                alert('âš ï¸ ëª¨ë“  ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì™„ë£Œí•´ì£¼ì„¸ìš”.');
            }
        }
    };
}

// ê°•ì˜ ì¶”ê°€ ì‹œìŠ¤í…œ
if (!window.addSystem) {
    window.addSystem = {
        addCourse() {
            const title = prompt('ìƒˆ ê°•ì˜ ì‹œë¦¬ì¦ˆ ì œëª©:', 'ìƒˆ ê°•ì˜');
            if (!title || !title.trim()) return;
            
            const category = prompt('ì¹´í…Œê³ ë¦¬:', 'ê¸°íƒ€');
            const courses = window.courseHub.loadCourses();
            
            const newCourse = {
                id: courses.length + 1,
                title: title.trim(),
                category: category || 'ê¸°íƒ€',
                lessons: [{
                    id: 1,
                    title: '1ê°•: ì‹œì‘í•˜ê¸°',
                    done: false,
                    checks: ['ê°•ì˜ ì‹œì²­', 'ì‹¤ìŠµ ì™„ë£Œ', 'í€´ì¦ˆ í’€ê¸°', 'ë³µìŠµí•˜ê¸°']
                }]
            };
            
            courses.push(newCourse);
            window.courseHub.setData('courseHub', courses);
            alert(`"${title}" ì‹œë¦¬ì¦ˆê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!`);
            setTimeout(() => location.reload(), 300);
        },
        
        addLesson(courseIdx) {
            const title = prompt('ìƒˆ ê°•ì˜ ì œëª©:', 'ìƒˆ ê°•ì˜');
            if (!title || !title.trim()) return;
            
            const courses = window.courseHub.loadCourses();
            const course = courses[courseIdx];
            
            const newLesson = {
                id: course.lessons.length + 1,
                title: title.trim(),
                done: false,
                checks: ['ê°•ì˜ ì‹œì²­', 'ì‹¤ìŠµ ì™„ë£Œ', 'í€´ì¦ˆ í’€ê¸°', 'ë³µìŠµí•˜ê¸°']
            };
            
            course.lessons.push(newLesson);
            window.courseHub.setData('courseHub', courses);
            alert(`"${title}"ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤!`);
            setTimeout(() => location.reload(), 300);
        }
    };
}

// ê°•ì˜ ëª©ë¡ ìƒì„±
const courses = window.courseHub.loadCourses();
let coursesHTML = '<div style="margin: 1rem 0;">';

courses.forEach((course, courseIdx) => {
    const completed = course.lessons.filter(l => l.done).length;
    const progress = Math.round((completed / course.lessons.length) * 100);
    const color = progress >= 80 ? '#28a745' : progress >= 50 ? '#ffc107' : '#dc3545';
    
    coursesHTML += `
    <div style="background: white; padding: 1.5rem; border-radius: 12px; margin: 1rem 0; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
            <div>
                <h3 style="margin: 0; color: #333;">${course.title}</h3>
                <small style="color: #666;">${course.category}</small>
            </div>
            <span style="background: ${color}; color: white; padding: 0.3rem 0.8rem; border-radius: 15px; font-size: 0.9rem; font-weight: bold;">${completed}/${course.lessons.length} ì™„ë£Œ</span>
        </div>
        
        <div style="background: #f0f0f0; height: 10px; border-radius: 5px; overflow: hidden; margin-bottom: 1rem;">
            <div style="background: ${color}; height: 100%; width: ${progress}%; transition: width 0.8s ease;"></div>
        </div>
        
        <div style="font-size: 0.9rem; color: #666; margin-bottom: 1rem;">ì§„ë„ìœ¨: ${progress}%</div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 0.8rem;">`;
    
    course.lessons.forEach((lesson, lessonIdx) => {
        // ì²´í¬ ì™„ë£Œ ê°œìˆ˜ ê³„ì‚°
        let checkedCount = 0;
        lesson.checks.forEach((_, checkIdx) => {
            if (localStorage.getItem(`check_${courseIdx}_${lessonIdx}_${checkIdx}`) === 'true') {
                checkedCount++;
            }
        });
        
        const lessonProgress = Math.round((checkedCount / lesson.checks.length) * 100);
        const lessonColor = lesson.done ? '#28a745' : lessonProgress > 0 ? '#ffc107' : '#6c757d';
        
        coursesHTML += `
        <div style="border: 2px solid ${lessonColor}; border-radius: 8px; padding: 1rem; cursor: pointer; transition: all 0.3s;" onclick="window.modalSystem.openModal(${courseIdx}, ${lessonIdx})" onmouseover="this.style.transform='scale(1.02)'" onmouseout="this.style.transform='scale(1)'">
            <div style="font-weight: bold; margin-bottom: 0.5rem; color: ${lessonColor};">${lesson.title}</div>
            <div style="background: #f8f9fa; height: 6px; border-radius: 3px; overflow: hidden; margin-bottom: 0.5rem;">
                <div style="background: ${lessonColor}; height: 100%; width: ${lessonProgress}%; transition: width 0.5s;"></div>
            </div>
            <div style="font-size: 0.8rem; color: #666;">
                ${lesson.done ? 'âœ… ì™„ë£Œ' : `${checkedCount}/${lesson.checks.length} ì²´í¬ (${lessonProgress}%)`}
            </div>
            <div style="font-size: 0.7rem; color: #999; margin-top: 0.3rem;">í´ë¦­í•˜ì—¬ ìƒì„¸ ë³´ê¸°</div>
        </div>`;
    });
    
    coursesHTML += `
        </div>
        <div style="text-align: center; margin-top: 1rem;">
            <button onclick="window.addSystem.addLesson(${courseIdx})" style="padding: 0.5rem 1rem; border: 1px solid #007bff; border-radius: 6px; background: white; color: #007bff; cursor: pointer; margin-right: 0.5rem;">â• ê°•ì˜ ì¶”ê°€</button>
        </div>
    </div>`;
});

// í•˜ë‹¨ ë²„íŠ¼ë“¤
coursesHTML += `
<div style="text-align: center; margin: 2rem 0;">
    <button onclick="window.addSystem.addCourse()" style="padding: 1rem 2rem; border: none; border-radius: 8px; background: #17a2b8; color: white; font-size: 1.1rem; font-weight: bold; cursor: pointer;">â• ìƒˆ ê°•ì˜ ì‹œë¦¬ì¦ˆ ì¶”ê°€</button>
</div>

<div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 1rem; margin: 1rem 0;">
    <h4 style="margin: 0 0 0.5rem 0; color: #856404;">ğŸ”§ ì‹œìŠ¤í…œ ê´€ë¦¬</h4>
    <button onclick="console.log('courseHub:', window.courseHub.loadCourses()); alert('ì½˜ì†”(F12)ì„ í™•ì¸í•˜ì„¸ìš”.');" style="padding: 0.5rem 1rem; border: 1px solid #856404; border-radius: 4px; background: white; color: #856404; cursor: pointer; margin-right: 0.5rem;">ğŸ“‹ ë°ì´í„° í™•ì¸</button>
    <button onclick="if(confirm('ëª¨ë“  ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) { localStorage.clear(); location.reload(); }" style="padding: 0.5rem 1rem; border: 1px solid #dc3545; border-radius: 4px; background: white; color: #dc3545; cursor: pointer;">ğŸ—‘ï¸ ì „ì²´ ì´ˆê¸°í™”</button>
    <button onclick="location.reload()" style="padding: 0.5rem 1rem; border: 1px solid #28a745; border-radius: 4px; background: white; color: #28a745; cursor: pointer;">ğŸ”„ ìƒˆë¡œê³ ì¹¨</button>
</div>
</div>`;

dv.container.innerHTML += coursesHTML;
```

## ğŸ“Š í•™ìŠµ í†µê³„

```dataviewjs
const courses = window.courseHub.loadCourses();
const progress = window.courseHub.getProgress();

// ì¹´í…Œê³ ë¦¬ë³„ í†µê³„
const categories = {};
courses.forEach(course => {
    const cat = course.category || 'ê¸°íƒ€';
    if (!categories[cat]) categories[cat] = {total: 0, done: 0};
    categories[cat].total += course.lessons.length;
    categories[cat].done += course.lessons.filter(l => l.done).length;
});

// ì´ ì²´í¬ ì™„ë£Œ ê°œìˆ˜
let totalChecks = 0;
courses.forEach((course, courseIdx) => {
    course.lessons.forEach((lesson, lessonIdx) => {
        lesson.checks.forEach((_, checkIdx) => {
            if (localStorage.getItem(`check_${courseIdx}_${lessonIdx}_${checkIdx}`) === 'true') {
                totalChecks++;
            }
        });
    });
});

const statsHTML = `
<div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); margin: 1rem 0;">
    <h3 style="margin-bottom: 1.5rem;">ğŸ“Š í•™ìŠµ í†µê³„</h3>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
        <div style="text-align: center; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
            <div style="font-size: 2rem; color: #007bff; font-weight: bold;">${progress.courses}</div>
            <div style="color: #666;">ì´ ê°•ì˜ ì‹œë¦¬ì¦ˆ</div>
        </div>
        
        <div style="text-align: center; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
            <div style="font-size: 2rem; color: #28a745; font-weight: bold;">${progress.completed}</div>
            <div style="color: #666;">ì™„ë£Œí•œ ê°•ì˜</div>
        </div>
        
        <div style="text-align: center; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
            <div style="font-size: 2rem; color: #ffc107; font-weight: bold;">${progress.percent}%</div>
            <div style="color: #666;">ì „ì²´ ì§„ë„ìœ¨</div>
        </div>
        
        <div style="text-align: center; padding: 1rem; background: #f8f9fa; border-radius: 8px;">
            <div style="font-size: 2rem; color: #dc3545; font-weight: bold;">${totalChecks}</div>
            <div style="color: #666;">ì´ ì²´í¬ ì™„ë£Œ</div>
        </div>
    </div>
    
    <div style="padding: 1rem; background: #e3f2fd; border-radius: 8px;">
        <div style="font-weight: bold; margin-bottom: 0.5rem;">ğŸ“ˆ ì¹´í…Œê³ ë¦¬ë³„ ì§„ë„</div>
        ${Object.entries(categories).map(([cat, stats]) => {
            const percent = Math.round((stats.done / stats.total) * 100);
            return `<div style="margin: 0.3rem 0;">${cat}: ${percent}% (${stats.done}/${stats.total})</div>`;
        }).join('')}
    </div>
</div>
`;

dv.container.innerHTML += statsHTML;
```

---

## âœ… ìˆ˜ì • ì™„ë£Œ!

### í•´ê²°ëœ ë¬¸ì œë“¤:
- íŒŒì¼ êµ¬ì¡° ì˜¤ë¥˜ ìˆ˜ì •
- DataviewJS ë¸”ë¡ ì™„ì „ ë¶„ë¦¬
- ê°„ì†Œí™”ëœ ì½”ë“œ êµ¬ì¡°
- í™•ì‹¤í•œ ì´ë²¤íŠ¸ ì²˜ë¦¬

### ì‘ë™í•˜ëŠ” ê¸°ëŠ¥ë“¤:
- ê°•ì˜ ì‹œë¦¬ì¦ˆ ì¶”ê°€
- ê°œë³„ ê°•ì˜ ì¶”ê°€  
- ì²´í¬ë¦¬ìŠ¤íŠ¸ ê´€ë¦¬
- ì§„ë„ ìë™ ê³„ì‚°
- ëª¨ë‹¬ ì‹œìŠ¤í…œ
- ë°ì´í„° ì €ì¥/ë¡œë“œ

ì´ì œ ì™„ì „íˆ ì‘ë™í•©ë‹ˆë‹¤!